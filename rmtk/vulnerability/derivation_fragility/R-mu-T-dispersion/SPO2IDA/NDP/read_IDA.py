# -*- coding: utf-8 -*-
"""
Created on Wed Dec 17 10:59:15 2014

@author: chiaracasotto
"""
import csv
import os 
import numpy as np
import scipy.stats as stat
import matplotlib.pyplot as plt
cd = os.getcwd()
    
def read_IDA():
    
    input1 = cd+'/NDP/inputs/IMval.csv'
    input2 = cd+'/NDP/inputs/EDPval.csv'
    input3 = cd+'/NDP/inputs/limits.csv'
    
    with open(input1, 'rb') as f:
        reader = csv.reader(f)
        IM = [np.array(row,float) for row in reader]
    
    EDP = []    
    with open(input2, 'rb') as f:
        reader = csv.reader(f)
        for row in reader:
            for i,ele in enumerate(row):
                if ele is '': 
                    row[i] = np.Inf
            EDP.append(np.array(row,float))
            
    with open(input3, 'rb') as f:
        reader = csv.reader(f)
        newlist = [row for row in reader]
    newlist = [ele[1:] for ele in newlist]
    limits = np.array(newlist[1::2],float) #limit states [drifts]
    bUthd = np.array(newlist[2::2],float)


    [Nstripe,Nrec] = np.shape(EDP)
                                   
    return [IM[0], EDP, limits[0], bUthd[0], [Nstripe,Nrec]]
 
