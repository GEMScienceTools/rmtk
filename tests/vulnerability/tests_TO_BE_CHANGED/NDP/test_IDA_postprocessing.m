

clc;clear;close all;
addpath('/Users/chiaracasotto/Documents/GEM/RMTK/DimitriosFiles')

% INPUTs
input1 = './inputs/IMval.csv';
input2 = './inputs/EDPval.csv';
input3 = './inputs/limits.csv';
plotflag = 1;

IMrange = csvread(input1);
EDPmatrix = csvread(input2);
limits = csvread(input3,1,1);
EDPval = transpose(EDPmatrix);

for i = 1:length(limits)
    EDPlim = {'logncdf',{limits(1,i), limits(2,i)}};
    [Pex(i,:),IM50(i,:),IMbeta(i,:),err]=IMstripefragility(EDPval,EDPlim,IMrange,plotflag);
end

xlswrite('results/StripeFragility_matlab.xls',[IM50(:,1) IMbeta(:,1)])
xlswrite('results/DiscreteFragility_matlab.xls',Pex)

